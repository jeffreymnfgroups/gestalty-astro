---
import config from "@/config/config.json";
import LottieAnimation from "@/components/LottieAnimation";

const { contact_form_action } = config.params;
---

<section id="hero-section" class="section bg-offWhite pt-20 md:pt-24 pb-20 md:pb-24">
  <div class="container">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
      <!-- Left Column: Content -->
      <div class="text-center lg:text-left order-2 lg:order-1">
        <!-- Main Heading -->
        <div class="mb-6 md:mb-8 animate-on-scroll delay-0">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-text-dark mb-4 md:mb-5 leading-tight">
            We're Building Something Amazing
          </h1>
        </div>

        <!-- Subheading -->
        <div class="mb-10 md:mb-12 animate-on-scroll delay-1">
          <p class="text-lg md:text-xl text-text/70 font-primary leading-relaxed">
            Our login system is currently under development. Be the first to know when we launch!
          </p>
        </div>

        <!-- Email Notification Form -->
        <div class="mb-12 md:mb-16 animate-on-scroll delay-2">
          <form class="w-full" action={contact_form_action} method="POST">
            <div class="flex flex-col sm:flex-row gap-3">
              <input
                type="email"
                name="email"
                placeholder="Enter your email address"
                required
                class="flex-1 px-5 py-3.5 font-primary text-base border border-grayBlue-30 rounded-lg focus:border-primaryYellow focus:ring-1 focus:ring-primaryYellow transition-all outline-none bg-white text-text-dark placeholder:text-text/40 shadow-sm"
              />
              <button
                type="submit"
                class="px-6 py-3.5 bg-darkBlue text-offWhite font-semibold font-primary rounded-lg hover:bg-primaryYellow hover:text-text-dark transition-all duration-300 whitespace-nowrap shadow-md hover:shadow-lg"
              >
                Notify Me
              </button>
            </div>
          </form>
        </div>

        <!-- Features/Info Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 md:gap-8 mb-10 md:mb-12 animate-on-scroll delay-3">
          <div class="feature-item">
            <h3 class="text-base font-semibold text-text-dark mb-2">Secure Access</h3>
            <p class="text-sm text-text/60">Safe & protected</p>
          </div>
          <div class="feature-item">
            <h3 class="text-base font-semibold text-text-dark mb-2">Fast & Easy</h3>
            <p class="text-sm text-text/60">Quick login process</p>
          </div>
          <div class="feature-item">
            <h3 class="text-base font-semibold text-text-dark mb-2">Stay Updated</h3>
            <p class="text-sm text-text/60">Get notified first</p>
          </div>
        </div>

        <!-- Additional Info -->
        <div class="animate-on-scroll delay-4">
          <p class="text-sm text-text/60 font-primary">
            Have questions? <a href="/contact" class="text-primaryYellow hover:text-text-dark font-semibold transition-colors underline-offset-2 hover:underline">Contact us</a>
          </p>
        </div>
      </div>

      <!-- Right Column: Lottie Animation -->
      <div class="order-1 lg:order-2 animate-on-scroll delay-1">
        <div class="w-full max-w-lg mx-auto lg:max-w-none lottie-container">
          <LottieAnimation 
            src="/images/Welcome.lottie" 
            client:only="react"
            className="w-full h-auto"
          />
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Animation Keyframes */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Feature Items */
  .feature-item {
    transition: opacity 0.3s ease;
  }

  /* Animation Classes */
  .animate-on-scroll {
    opacity: 0;
  }

  .animate-on-scroll.delay-0 { 
    animation: fadeInUp 0.6s ease-out 0s forwards; 
  }

  .animate-on-scroll.delay-1 { 
    animation: fadeInUp 0.6s ease-out 0.2s forwards; 
  }

  .animate-on-scroll.delay-2 { 
    animation: fadeInUp 0.6s ease-out 0.4s forwards; 
  }

  .animate-on-scroll.delay-3 { 
    animation: fadeInUp 0.6s ease-out 0.6s forwards; 
  }

  .animate-on-scroll.delay-4 { 
    animation: fadeInUp 0.6s ease-out 0.8s forwards; 
  }

  /* Lottie Container */
  .lottie-container {
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }

  @media (min-width: 640px) {
    .lottie-container {
      min-height: 400px;
    }
  }

  @media (min-width: 1024px) {
    .lottie-container {
      min-height: 500px;
      padding: 0;
    }
  }
</style>

<script>
  // Intersection Observer for scroll animations
  if (typeof window !== 'undefined') {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-on-scroll');
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
      });
    });
  }
</script>
